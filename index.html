<script>
    function showNextCustomer() {
        if (gameState.customersServed >= gameState.maxCustomers) {
            endGame();
            return;
        }

        if (gameState.suspiciousItems >= gameState.maxSuspicious) {
            // Transition to the new part
            initiateCultScene();
            return;
        }

        const customer = gameState.customers[gameState.customersServed];
        customerName.innerText = customer.name;
        customerItems.innerText = `Items: ${customer.items.join(", ")}`;
        document.getElementById('customer-image').src = customer.image;
        document.getElementById('customer-image').alt = customer.name;

        gameText.innerText = `Customer ${gameState.customersServed + 1} approaches the counter.`;

        choicesDiv.innerHTML = `
            <button onclick="serveCustomer(${gameState.customersServed})">Serve</button>
            <button onclick="reportCustomer(${gameState.customersServed})">Report</button>
        `;
    }

    function initiateCultScene() {
        gameContainer.style.display = 'none';
        document.body.style.backgroundColor = 'black';
        gameText.innerText = "Oh no, the lights went out! The cult is trying to kill you!";
        choicesDiv.innerHTML = '';

        setTimeout(() => {
            document.body.style.backgroundImage = "url('hardware1.jpg')";
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            gameText.innerText = "Now transferring to a new game: Escape the cult!";
            choicesDiv.innerHTML = '<button onclick="startNewGame()">Start Escape Game</button>';
        }, 3000);
    }

    function startNewGame() {
        // Placeholder for the new game logic
        alert("The new game will begin here. Stay tuned for updates!");
    }
</script>
